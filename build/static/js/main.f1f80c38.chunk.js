(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),o=t(15),r=t.n(o),u=t(6),s=t(3),l=t(0),i=function(e){return Object(l.jsx)("button",{children:e.text})},d=function(e){return Object(l.jsx)("input",{placeholder:e.placeholder,value:e.value,onChange:e.onChange})},b=function(e){return Object(l.jsxs)("form",{onSubmit:e.addName,children:[Object(l.jsx)(d,{placeholder:"Name Here...",value:e.info.newName,onChange:e.info.handleNewName}),Object(l.jsx)("br",{}),Object(l.jsx)(d,{placeholder:"Number Here...",value:e.info.newNumber,onChange:e.info.handleNewNumber}),Object(l.jsx)("br",{}),Object(l.jsx)(i,{text:"Add"})]})},j=function(e){var n=e.persons,t=e.newFilter,c=e.handleClick;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{children:n.filter((function(e){return""===t||e.name.toLowerCase().includes(t.toLowerCase())?e:null})).map((function(e){return Object(l.jsxs)("li",{children:[e.name," : ",e.number,Object(l.jsx)("button",{onClick:function(){return c(e.id)},children:"Delete"})]},e.id)}))})})},f=function(e){return Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"text",placeholder:"Search...",value:e.newFilter,onChange:e.handleFilter})})},h=t(4),m=t.n(h),O="/api/persons",p=function(){return m.a.get(O)},x=function(e){return m.a.post(O,e)},w=function(e,n){var t="".concat(O,"/").concat(e);return m.a.delete(t,n)},g=function(e,n){var t="".concat(O,"/").concat(e);return m.a.put(t,n)},v=function(e){var n=e.message;return null===n?null:Object(l.jsx)("div",{className:n.class,children:n.message})},N=(t(39),function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(""),r=Object(s.a)(o,2),i=r[0],d=r[1],h=Object(c.useState)(""),m=Object(s.a)(h,2),O=m[0],N=m[1],C=Object(c.useState)(""),k=Object(s.a)(C,2),y=k[0],S=k[1],T=Object(c.useState)({message:null,class:null}),F=Object(s.a)(T,2),Y=F[0],L=F[1];Object(c.useEffect)((function(){p().then((function(e){a(e.data)})).catch((function(e){alert("There was a problem leading the data")}))}),[]);var A={newName:i,newNumber:O,handleNewName:function(e){d(e.target.value)},handleNewNumber:function(e){N(e.target.value)}};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Phonebook"}),Object(l.jsx)(v,{message:Y}),Object(l.jsx)(f,{newFilter:y,handleFilter:function(e){S(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("h2",{children:"Add A New Contact!"}),Object(l.jsx)(b,{addName:function(e){e.preventDefault();var n,c={name:i,number:O},o=(n=c,t.filter((function(e){return e.name.toLowerCase()===n.name.toLowerCase()})));if(0!==o.length){var r=o[0];if(window.confirm("".concat(i," is already added to the phonebook, would you like to replace the number?"))){var s=Object(u.a)(Object(u.a)({},r),{},{number:O});g(r.id,s).then((function(e){a(t.map((function(n){return n.id!==r.id?n:e.data}))),d(""),N(""),L({message:"Your contact '".concat(r.name,"' has been succesfully updated!"),class:"success"}),setTimeout((function(){L(null)}),5e3)})).catch((function(e){L({message:"Your contact '".concat(r.name,"' couldn't be updated"),class:"error"}),setTimeout((function(){L(null)}),5e3)}))}else x(c).then((function(e){a(t.concat(e.data)),d(""),N("")})).catch((function(e){L({message:"Your contact '".concat(r.name,"' couldn't be added"),class:"error"}),setTimeout((function(){L(null)}),5e3)}))}x(c).then((function(e){a(t.concat(e.data)),d(""),N(""),L({message:"Your contact '".concat(c.name,"' has been succesfully added!"),class:"success"}),setTimeout((function(){L(null)}),5e3)})).catch((function(e){L({message:"Your contact '".concat(c.name,"' couldn't be added"),class:"error"}),setTimeout((function(){L(null)}),5e3)}))},info:A}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)(j,{persons:t,newFilter:y,handleClick:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name,"?"))&&w(e).then((function(n){console.log(n.data),a(t.map((function(t){return t.id!==e?t:n.data}))),L({message:"Your contact has been succesfully deleted",class:"error"}),setTimeout((function(){L(null)}),5e3)})).catch((function(e){L({message:"Your contact was already removed from the server",class:"error"}),setTimeout((function(){L(null)}),5e3)}))}})]})});r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f1f80c38.chunk.js.map